import{d as k,c as S,u as e,o as h,a as g,b as x,r as l,e as F,f as M,w as I,g as j,h as r,F as z,i as B,t as f,n as $}from"./index-fccdb994.js";const A=["src"],E=k({__name:"Flag",props:{code:{}},setup(p){const a=p,s=S(()=>a.code?`https://flagcdn.com/256x192/${a.code}.png`:"");return(o,n)=>e(s)?(h(),g("img",{key:0,src:e(s),alt:"Flag",class:"mx-auto h-auto w-64"},null,8,A)):x("",!0)}}),N={class:"space-y-6 p-4"},V=r("h1",{class:"text-3xl font-bold"},"Flag Quiz",-1),D={class:"mx-auto max-w-screen-sm"},O=r("h2",{class:"mb-2 text-center text-xl font-semibold"},"Select the correct country:",-1),Q={class:"grid grid-cols-2 gap-4"},L=["onClick","disabled"],T={class:"mt-4 text-center"},U={class:"text-lg font-semibold"},q={key:0,class:"text-gray-500"},J=k({__name:"index",setup(p){const a=l(""),s=l({}),o=F([]),n=l(null),_=l(null),v=l(!1),u=l(0);let d=parseInt(localStorage.getItem("bestStreak")||"0");M(async()=>{try{const c=await(await fetch("https://flagcdn.com/en/codes.json")).json();s.value=c}catch(t){console.error("Error fetching data:",t)}b()}),I(()=>{n.value&&(v.value=!0,setTimeout(()=>{b()},1e3))});const b=()=>{n.value=null,_.value=null,v.value=!1,y(),w()},y=()=>{const t=Object.keys(s.value),c=Math.floor(Math.random()*t.length);a.value=t[c]},w=()=>{const t=Object.keys(s.value);o.length=0;const c=s.value[a.value];for(_.value=c,o.push(c);o.length<4;){const m=s.value[t[Math.floor(Math.random()*t.length)]];o.includes(m)||o.push(m)}o.sort(()=>Math.random()-.5)},C=t=>{t===s.value[a.value]?(console.log("Correct!"),u.value+=1,u.value>d&&(d=u.value,localStorage.setItem("bestStreak",d.toString()))):(console.log("Incorrect! Correct answer is:",s.value[a.value]),u.value=0),n.value=t};return(t,c)=>{const m=E;return h(),g("div",N,[V,j(m,{code:e(a)},null,8,["code"]),r("div",D,[O,r("div",Q,[(h(!0),g(z,null,B(e(o),i=>(h(),g("button",{key:i,onClick:G=>C(i),class:$([{"!bg-green-500":e(n)&&e(_)===i,"!bg-red-500":e(n)&&e(n)!==e(_)&&e(n)===i},"rounded-md bg-slate-800 p-4 text-white transition-all hover:bg-slate-700"]),disabled:e(v)},f(i),11,L))),128))]),r("div",T,[r("p",U,"Streak: "+f(e(u)),1),e(d)?(h(),g("p",q,"Best Streak: "+f(e(d)),1)):x("",!0)])])])}}});export{J as default};
